(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t=document.querySelector(".profile__edit"),n=document.querySelector(".profile_add"),r=document.querySelector(".popup"),o=document.querySelector(".popup__profile"),c=o.querySelector(".popup__name"),u=o.querySelector(".popup__about"),l=document.querySelector(".profile__name"),a=document.querySelector(".profile__cuption"),i=document.querySelector(".popup__place"),p=i.querySelector(".place__title"),d=i.querySelector(".place__link"),s=document.querySelectorAll(".popup__close"),f=document.querySelector(".template-item").content.querySelector(".gallery__item"),y=document.querySelector(".gallery"),m=document.querySelector(".popup__photo"),_=document.querySelector(".popup__photo-content"),v=document.querySelector(".popup__photo-name"),g=r.querySelectorAll(".popup__button"),S=document.forms.profileForm,h=document.forms.placeForm,q=document.querySelectorAll(".popup__container"),k=document.querySelectorAll(".popup__text");function b(e){e.classList.add("popup_opened")}function x(e){e.preventDefault(),e.target.closest(".popup").classList.remove("popup_opened")}var E,L=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))){r&&(t=r);var o=0,c=function(){};return{s:c,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,u=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw u}}}}(s);try{for(L.s();!(E=L.n()).done;)E.value.addEventListener("click",(function(e){return x(e)}))}catch(e){L.e(e)}finally{L.f()}function A(e){e.target.closest(".gallery__button").classList.toggle("gallery__button_liked")}function C(e,t){var n=f.cloneNode(!0),r=n.querySelector(".gallery__header");r.textContent=e;var o=n.querySelector(".gallery__image");return o.src=t,o.alt=e,n.querySelector(".gallery__trash").addEventListener("click",(function(){n.remove()})),n.querySelector(".gallery__button").addEventListener("click",A),o.addEventListener("click",(function(){_.src=o.src,v.textContent=r.textContent,b(m)})),n}function j(e){y.prepend(e)}function w(e,t){t.forEach((function(t){e.checkValidity()?function(e){e.disabled=!1}(t):function(e){e.disabled=!0}(t)}))}t.addEventListener("click",(function(){c.value=l.textContent,u.value=a.textContent,b(o)})),n.addEventListener("click",(function(){return b(i)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){j(C(e.name,e.link))})),S.addEventListener("submit",(function(e){e.preventDefault(),l.textContent=c.value,a.textContent=u.value,x(e)})),h.addEventListener("submit",(function(e){e.preventDefault(),j(C(p.value,d.value)),x(e),e.target.reset()})),w(S,g),q.forEach((function(e){k.forEach((function(t){t.addEventListener("input",(function(){w(e,g),function(e){e.validity.valid?function(e){var t="eror-"+e.id;document.getElementById(t).textContent=""}(e):function(e,t){var n="eror-"+e.id;document.getElementById(n).textContent=t}(e,e.validationMessage)}(t)}))}))}))})();